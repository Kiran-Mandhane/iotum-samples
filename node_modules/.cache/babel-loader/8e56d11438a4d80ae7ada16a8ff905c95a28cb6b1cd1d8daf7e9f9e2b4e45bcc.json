{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst widget_1 = __importDefault(require(\"./widget\"));\n/**\n * Callbridge Room.\n */\nclass Room extends widget_1.default {\n  /**\n   * @param options\n   */\n  constructor(options) {\n    super(options);\n    /**\n     * Manages the video input device.\n     * @param deviceId device id.\n     */\n    this.setVideoInput = deviceId => {\n      this._send('device', 'setVideoInput', {\n        deviceId\n      });\n    };\n    /**\n     * Manages the audio input device.\n     * @param deviceId device id.\n     */\n    this.setAudioInput = deviceId => {\n      this._send('device', 'setAudioInput', {\n        deviceId\n      });\n    };\n    /**\n     * Manages the audio output device.\n     * @param deviceId device id.\n     */\n    this.setAudioOutput = deviceId => {\n      this._send('device', 'setAudioOutput', {\n        deviceId\n      });\n    };\n    /**\n     * Manages my camera.\n     * @param enable whether to turn on my camera.\n     */\n    this.setCamera = enable => {\n      this._send('conference', enable === true ? 'startCamera' : 'stopCamera');\n    };\n    /**\n     * Manages my microphone.\n     * @param mute whether to mute my microphone.\n     */\n    this.setMute = mute => {\n      this._send('conference', mute === true ? 'mute' : 'unmute');\n    };\n    /**\n     * Manages incoming video.\n     * @param enable whether to receive remote video streams.\n     */\n    this.setIncomingVideo = enable => {\n      this._send('conference', enable === true ? 'enableIncomingVideo' : 'disableIncomingVideo');\n    };\n    /**\n     * Sets the global audio output volume.\n     * @param volume valid range: 0 - 1. (default: 1).\n     */\n    this.setVolume = volume => {\n      if (typeof volume === 'number') {\n        if (volume < 0 || volume > 1) {\n          throw new RangeError('volume');\n        }\n      } else {\n        throw new TypeError();\n      }\n      this._send('conference', 'setVolume', {\n        volumn: volume\n      });\n    };\n    /**\n     * Mutes a remote participant, requires Moderator.\n     * @param participantId participant id.\n     */\n    this.muteParticipant = participantId => {\n      if (participantId > 0) {\n        this._send('participant', 'mute', {\n          id: participantId\n        });\n      }\n    };\n    /**\n     * Adjusts the audio output volume and/or stereo position of a remote participant.\n     * @param participantId participant id.\n     * @param settings audio settings.\n     */\n    this.adjustParticipantAudio = (participantId, settings) => {\n      const {\n        volume,\n        pan\n      } = settings;\n      if (typeof volume !== 'number' && typeof pan !== 'number') {\n        throw new TypeError();\n      }\n      if (typeof volume === 'number') {\n        if (volume < 0 || volume > 1) {\n          throw new RangeError('volume');\n        }\n      }\n      if (typeof pan === 'number') {\n        if (pan < -1 || pan > 1) {\n          throw new RangeError('pan');\n        }\n      }\n      if (participantId > 0) {\n        this._send('participant', 'adjustAudio', {\n          id: participantId,\n          volume,\n          pan\n        });\n      }\n    };\n  }\n}\nexports.default = Room;","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","widget_1","require","Room","default","constructor","options","setVideoInput","deviceId","_send","setAudioInput","setAudioOutput","setCamera","enable","setMute","mute","setIncomingVideo","setVolume","volume","RangeError","TypeError","volumn","muteParticipant","participantId","id","adjustParticipantAudio","settings","pan"],"sources":["/Users/katyabarbieri/webapp/iotum-samples/node_modules/@iotum/callbridge-js/dist/room.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst widget_1 = __importDefault(require(\"./widget\"));\n/**\n * Callbridge Room.\n */\nclass Room extends widget_1.default {\n    /**\n     * @param options\n     */\n    constructor(options) {\n        super(options);\n        /**\n         * Manages the video input device.\n         * @param deviceId device id.\n         */\n        this.setVideoInput = (deviceId) => {\n            this._send('device', 'setVideoInput', { deviceId });\n        };\n        /**\n         * Manages the audio input device.\n         * @param deviceId device id.\n         */\n        this.setAudioInput = (deviceId) => {\n            this._send('device', 'setAudioInput', { deviceId });\n        };\n        /**\n         * Manages the audio output device.\n         * @param deviceId device id.\n         */\n        this.setAudioOutput = (deviceId) => {\n            this._send('device', 'setAudioOutput', { deviceId });\n        };\n        /**\n         * Manages my camera.\n         * @param enable whether to turn on my camera.\n         */\n        this.setCamera = (enable) => {\n            this._send('conference', enable === true ? 'startCamera' : 'stopCamera');\n        };\n        /**\n         * Manages my microphone.\n         * @param mute whether to mute my microphone.\n         */\n        this.setMute = (mute) => {\n            this._send('conference', mute === true ? 'mute' : 'unmute');\n        };\n        /**\n         * Manages incoming video.\n         * @param enable whether to receive remote video streams.\n         */\n        this.setIncomingVideo = (enable) => {\n            this._send('conference', enable === true ? 'enableIncomingVideo' : 'disableIncomingVideo');\n        };\n        /**\n         * Sets the global audio output volume.\n         * @param volume valid range: 0 - 1. (default: 1).\n         */\n        this.setVolume = (volume) => {\n            if (typeof volume === 'number') {\n                if (volume < 0 || volume > 1) {\n                    throw new RangeError('volume');\n                }\n            }\n            else {\n                throw new TypeError();\n            }\n            this._send('conference', 'setVolume', { volumn: volume });\n        };\n        /**\n         * Mutes a remote participant, requires Moderator.\n         * @param participantId participant id.\n         */\n        this.muteParticipant = (participantId) => {\n            if (participantId > 0) {\n                this._send('participant', 'mute', { id: participantId });\n            }\n        };\n        /**\n         * Adjusts the audio output volume and/or stereo position of a remote participant.\n         * @param participantId participant id.\n         * @param settings audio settings.\n         */\n        this.adjustParticipantAudio = (participantId, settings) => {\n            const { volume, pan } = settings;\n            if (typeof volume !== 'number' && typeof pan !== 'number') {\n                throw new TypeError();\n            }\n            if (typeof volume === 'number') {\n                if (volume < 0 || volume > 1) {\n                    throw new RangeError('volume');\n                }\n            }\n            if (typeof pan === 'number') {\n                if (pan < -1 || pan > 1) {\n                    throw new RangeError('pan');\n                }\n            }\n            if (participantId > 0) {\n                this._send('participant', 'adjustAudio', {\n                    id: participantId,\n                    volume,\n                    pan,\n                });\n            }\n        };\n    }\n}\nexports.default = Room;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}